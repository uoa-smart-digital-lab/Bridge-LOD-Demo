/**********************************************************************************************************************************************************
 * XRData_Quietly
 * ---------------
 *
 * 2021-09-05
 *
 * Adds a 'quietly' term to an XRData event
 *
 * Roy Davies, Smart Digital Lab, University of Auckland.
 **********************************************************************************************************************************************************/

using System.Collections;
using System.Collections.Generic;
using UnityEngine;

// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Public functions
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
public interface _XRData_Quietly
{
    void Input(XRData theData);
}
// ----------------------------------------------------------------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------------------------------------------------------------
// Main class
// ----------------------------------------------------------------------------------------------------------------------------------------------------------
[AddComponentMenu("OpenXR UX/Connectors/XRData Quietly")]
public class XRData_Quietly : MonoBehaviour, _XRData_Quietly
{
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Public variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    [Header("____________________________________________________________________________________________________")]
    [Header("Adds the 'quietly' variable to XRData.\n____________________________________________________________________________________________________")]
    [Header("INPUTS\n\n - Input( XRData ) - XRData to have quietly added to.")]

    [Header("____________________________________________________________________________________________________")]
    [Header("SETTINGS")]

    [Header("Quietly variable to be added.")]
    public bool quietly = true;

    [Header("____________________________________________________________________________________________________")]
    [Header("OUTPUTS")]
    public UnityXRDataEvent onChange;
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Private variables
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // ------------------------------------------------------------------------------------------------------------------------------------------------------



    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    // Add the 'Quietly' variable and send on
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
    public void Input (XRData theData)
    {
        theData.quietly = quietly;
        if (onChange != null) onChange.Invoke(theData);
    }
    // ------------------------------------------------------------------------------------------------------------------------------------------------------
}
